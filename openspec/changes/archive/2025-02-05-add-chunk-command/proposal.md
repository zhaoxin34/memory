# Proposal: Add Chunk Command to Memory CLI

## Why

用户需要一个方便的方式来查看和分析文档的分块结果。目前系统虽然已经实现了 Markdown 智能分块功能，但缺乏可视化的方式来验证分块效果、调试分块参数，以及理解文档是如何被分解的。这对于优化检索质量、调试分块策略、以及用户理解系统工作原理都很重要。

## What Changes

在 Memory CLI 中新增 `chunk` 命令，支持以下功能：

1. **文档分块展示**
   - 支持已导入的文档（通过文档ID或名称）
   - 支持新文档（通过文件路径）
   - 显示分块的详细内容、索引、字符范围、分块大小

2. **分块参数配置**
   - `--size` 参数：控制分块大小
   - `--overlap` 参数：控制分块重叠
   - `--test` 参数：启用测试模式（用于参数调优）

3. **输出格式**
   - 表格形式：清晰显示分块统计信息
   - JSON 格式：`--json` 参数支持程序化处理

4. **交互体验**
   - 彩色输出
   - 分块统计摘要
   - 可选的内容预览

## Capabilities

### New Capabilities
- `chunk-command`: 完整的文档分块分析和展示功能
  - 支持多种输入源（已导入文档、文件路径）
  - 支持分块参数动态配置
  - 支持多种输出格式（表格、JSON）
  - 集成 Markdown 智能分块算法

## Impact

- **CLI 接口** (`src/memory/interfaces/cli.py`): 新增 `chunk` 命令和相关子命令
- **Markdown 分块模块** (`src/memory/core/markdown_chunking.py`): 重用现有智能分块功能
- **配置系统**: 支持通过 CLI 参数动态调整分块配置
- **用户体验**: 提供更好的文档分块可视化和调试能力
